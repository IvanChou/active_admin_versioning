paginated_collection(versions, display_total: false, download_links: false) do
  table_for(versions, i18n: ::PaperTrail::Version, class: "index_table") do
    column(:id)
    column(:whodunnit) do |record|
      record.actor.presence || t("views.version.unknown_user")
    end
    column(:event, :event_i18n)
    column(:item_type, :item_class_i18n)
    column(:object_changes) do |record|
      before = record.object_changes.transform_values(&:first)
      after = record.object_changes.transform_values(&:last)
      attributes_table_for([before, after], *record.object_changes.keys)
    end
    column(:created_at)
  end
end
